<div class="auth-container">
    <div class="row auth-main">
      <div class="col-sm-12 px-0 d-none d-sm-block">
        <div class="left-img" style="background-image: url(assets/images/login_banner.png);">
        </div>
      </div>
      <div class="col-sm-12 auth-form-section">
        <div class="form-section">
          <div class="auth-wrapper">
            <h4 class="text-center fw-light">Bienvenida/o al</h4>
            <h3 class="align-center">
              {{'Sistema De Planilla Digital' | uppercase}}
              <span class="text-gold"></span>
            </h3>
            <hr class="mb-4">
            <div *ngIf="error" class="alert alert-danger">{{error}}</div>
            <h4 class="login-title mt-2">Registro de información</h4>
            <p class="text-center">Registre la información que se le pide en cada paso</p>
            <div class="row">
              <mat-stepper #stepper>
                <mat-step>
                  <ng-template matStepLabel>Introducción</ng-template>
                  <p>Requerirá de información de la empresa como del representante legal </p>
                  <div>Datos que que serán necesarios
                    <ul>
                      <li>NIT de la empresa</li>
                      <li>Registro de IVA (NRC)</li>
                      <li>Foto del iva</li>
                      <li>Foto o documento de la escritura pública de la empresa</li>
                    </ul>
                  </div>
                  <div>
                    <button class="btn btn-primary" mat-button matStepperNext>Siguiente</button>
                  </div>
                </mat-step>
                <mat-step [stepControl]="personaJuridica" errorMessage="Campos de la empresa obligatorios.">
                  <form [formGroup]="personaJuridica">
                    <ng-template matStepLabel>Datos de la empresa</ng-template>
                    <mat-card>
                      Colocar la información de la empresa
                    </mat-card>
                    <br>
                    <div class="row">
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Razón social</mat-label>
                          <input matInput placeholder="Razón social" formControlName="RazonSocial" required>
                        </mat-form-field>
                      </div>
                    
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Nombre comercial</mat-label>
                          <input matInput placeholder="Nombre comercial" formControlName="NombreComercial" required>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>NIT</mat-label>
                          <input matInput placeholder="NIT" formControlName="NIT" mask="0000-000000-000-0" [showMaskTyped]="false" required>
                        </mat-form-field>
                      </div>
                   
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>NRC</mat-label>
                          <input matInput placeholder="NRC" mask="000000-0" [showMaskTyped]="false" formControlName="NRC" required>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Tipo de Empresa</mat-label>
                          <mat-select formControlName="TipoEmpresa" required placeholder="Tipo de Empresa">
                              <mat-option value="P">Privada</mat-option>
                              <mat-option value="G">Gobierno</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Imagen del NIT</mat-label>
                          <input matInput formControlName="ImagenNIT"  placeholder="Imagen NIT" readonly>
                          <app-upload (onUploadFinished)=uploadFinishedNITEmp($event)></app-upload>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Imagen del NRC</mat-label>
                          <input matInput formControlName="ImagenNRC"  placeholder="Imagen NRC" readonly>
                          <app-upload (onUploadFinished)=uploadFinishedNRCEmp($event)></app-upload>
                        </mat-form-field>
                      </div>
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Imagen de la escritura de propiedad</mat-label>
                          <input matInput formControlName="ImagenEscritura"  placeholder="Imagen Escritura" readonly>
                          <app-upload (onUploadFinished)=uploadFinishedEscrituraEmp($event)></app-upload>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-md-6">
                        
                      </div>
                      <div class="col-12 col-md-6">
                        
                      </div>
                    </div>
                    <div>
                      <p>Continuar a datos del representante legal</p>
                      <button class="btn btn-primary" mat-button matStepperPrevious>Atras</button>
                      <button class="btn btn-primary" *ngIf="this.personaJuridica.valid" mat-button matStepperNext>Siguiente</button>
                    </div>
                  </form>
                </mat-step>
                <mat-step [stepControl]="personaNatural" completed="false" errorMessage="Datos representante obligatorios.">
                  <form [formGroup]="personaNatural">
                    <ng-template matStepLabel>Datos del representante legal</ng-template>
                    <div class="row">
                      <div class="col-12 col-md-4">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Primer nombre</mat-label>
                          <input matInput placeholder="Nombres" formControlName="Nombre1"
                                 required>
                        </mat-form-field>
                      </div>
                      <div class="col-12 col-md-4">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Segundo nombre</mat-label>
                          <input matInput placeholder="Nombres" formControlName="Nombre2"
                                 >
                        </mat-form-field>
                      </div>
                      <div class="col-12 col-md-4">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Tercer nombre</mat-label>
                          <input matInput placeholder="Nombres" formControlName="Nombre2"
                                 >
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-md-4">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Primer apellido</mat-label>
                          <input matInput placeholder="Apellidos" formControlName="Apellido1"
                                 required>
                        </mat-form-field>
                      </div>
                      <div class="col-12 col-md-4">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Segundo apellido</mat-label>
                          <input matInput placeholder="Apellidos" formControlName="Apellido2"
                                 >
                        </mat-form-field>
                      </div>
                      <div class="col-12 col-md-4">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Apellido de casada</mat-label>
                          <input matInput placeholder="Apellidos" formControlName="ApellidoCasada"
                                 >
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Fecha de nacimiento</mat-label>
                          <input matInput [matDatepicker]="picker" formControlName="FechaNacimiento">
                          <mat-hint>MM/DD/YYYY</mat-hint>
                          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                      </div>
                  
                      <div class="col-12 col-md-6">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-select placeholder="Sexo" formControlName="Sexo">
                            <mat-option *ngFor="let sexo of sexos" [value]="sexo.value">
                              {{sexo.name}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                    </div>
                    <div>
                      <button class="btn btn-primary" mat-button matStepperPrevious>Atrás</button>
                      <button class="btn btn-primary" *ngIf="this.personaNatural.valid" mat-button matStepperNext>Siguiente</button>
                    </div>
                  </form>
                </mat-step>
                <mat-step [stepControl]="userFormGroup" errorMessage="Datos de inicio se sesión">
                  <form [formGroup]="userFormGroup">
                    <ng-template matStepLabel>Datos para inicio de sesión</ng-template>
                    <mat-card>
                      Colocar la información que utilizará para iniciar sesión
                    </mat-card>
                    <p>Ingrese datos solicitados, la clave debe ser segura</p>
                    <br>
                    <mat-card>
                      <b>Una clave segura debe contener:</b>
                      <br>
                      <mat-card-content>
                        <ol>
                          <li>Al menos 6 caracteres de longitud, máximo 10 caracteres</li>
                          <li>Al menos una letra minúscula</li>
                          <li>Al menos una letra mayúscula</li>
                          <li>Al menos un número</li>
                          <li>Al menos un caracter especial: *[$@$!%*?&]</li>
                        </ol>
                      </mat-card-content>  
                      <br>  
                    </mat-card>
                    <br>
                    <div class="row">
                      <div class="col">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Nombre de usuario</mat-label>
                          <input matInput placeholder="Nombre de usuario" formControlName="Username"
                                 required>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <mat-form-field class="full-width" appearance="fill">
                          <mat-label>Clave</mat-label>
                          <input matInput [type]="hide ? 'password' : 'text'" formControlName="Password" maxlength="30">
                          <a class="show-pwd-icon" href="#" onClick="return false;" matSuffix (click)="hide = !hide"
                            [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                          </a>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <mat-form-field class="full-width">
                          <mat-label>Confirme la Clave de su Usuario</mat-label>
                          <input matInput placeholder="Confirme Clave" [type]="hide ? 'password' : 'text'" formControlName="ConfirmPassword" maxlength="30" required>
                          <mat-error *ngIf="userFormGroup.controls['ConfirmPassword'].pristine || userFormGroup.controls['ConfirmPassword'].errors?.MatchPassword">La clave confirmada no es igual</mat-error>
                      </mat-form-field>
                      </div>
                    </div>
                    <div>
                      <button class="btn btn-primary" mat-button matStepperPrevious>Atrás</button>
                      <button class="btn btn-primary" mat-button matStepperNext>Siguiente</button>
                    </div>
                  </form>
                </mat-step>
                <mat-step [stepControl]="fourthFormGroup">
                  <form [formGroup]="fourthFormGroup">
                    <ng-template matStepLabel>Términos y condiciones</ng-template>
                    <mat-card>
                      Aqui va el texto de los términos y condiciones
                    </mat-card>
                    <mat-card style="text-align: justify;">
                      <b>Aceptación de la autorización.</b> Declaro haber leído, entendido y aceptado la totalidad de los términos y condiciones contenidos en el presente documento, sobre la autorización de notificación de todos los actos administrativos que realice la PGR y me comprometo a estar pendiente de cualquier notificación que sea realizada.
                      <section class="example-section">
                        <mat-checkbox class="example-margin" formControlName="aceptado" value="1" (change)="checkValue($event)">Acepto los términos y condiciones</mat-checkbox>
                      </section>
                    </mat-card>

                    <div>
                      <button class="btn btn-primary" mat-button matStepperPrevious>Atras</button>
                      <button class="btn btn-primary" *ngIf="accepted" mat-button matStepperNext>Siguiente</button>                    
                    </div>
                  </form>
                </mat-step>
                <mat-step>
                  <ng-template matStepLabel>Finalizar</ng-template>
                  <p>Todo Listo</p>
                  <div>
                    <button class="btn btn-primary" mat-button matStepperPrevious>Atras</button>
                    <button class="btn btn-primary" mat-button (click)="onSubmit()">Guardar</button>
                  </div>
                </mat-step>
              </mat-stepper>
              <div class="w-full p-t-25 text-center">
                <div>
                  <a routerLink="/authentication/signin" class="txt1">
                    Ingresar
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
    </div>
  </div>
